<!DOCTYPE html>
<html>
<body>

<p>List all array items, with keys and values:</p>

<p id="demo"></p>

<script>
function search(param){
  let paramQuery = (new URL(document.location)).searchParams;
  function getUrl(url){ var parser = document.createElement('a'); parser.href = url; parser.path = parser.pathname.substring(0, parser.pathname.lastIndexOf('/')) + "/"; return parser; }
  
  var result = {};
  if ( paramQuery.get( param ) !== null)
    result.query = paramQuery.get( param );
  
  if ( getUrl(window.location.href).hash !== null)
    result.hash = getUrl(window.location.href).hash;
  
  if ( getUrl(window.location.href).protocol !== null)
    result.protocol = getUrl(window.location.href).protocol;
  
  if ( getUrl(window.location.href).pathname !== null){
  var items = getUrl(window.location.href).pathname.split("/");
  items.forEach((e,i)=>{ if (e.length <=0) items.splice(i,1) });
  result.path = items;
  }
  return result;
}
  document.getElementById("demo").innerHTML = JSON.stringify( search("filename") );

</script>

</body>
</html>
